<!doctype html>
<html>

<head>
<meta charset="utf-8">
<title>基于Echarts的HTML5 Canvas中国地图DEMO演示</title>
<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/echarts.min.js"></script>
<script src="js/china.js"></script>
<script src="js/webData.js"></script>
<style>
    body{margin: 0;}
    ul{
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #333;
    position: fixed;
    top: 0;
    width: 100%;
    }
    li a{
    display: block;
    color: white;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
    }
    li a:hover:not(.active){
    background-color: #111;
    }
    li a:active{
    background-color: #4CAF50;
    }
    #show{
        margin: 5%;
        padding: 14px 16px;
        background-color: #B8C91B;
        color: white;
    }
    footer{margin-top:30%;width:100%;height:60px;}
</style>
</head>

<body>
    <ul>
      <li><a href="index_stu.html" style="float:left">疫情地图</a></li>
     <li><a href="teh_list.html" style="float:left">区域统计</a></li>
     <li><a href="my_stu_info.html" style="float:left">数据总览</a></li>
     <li><a href="apply2learn.html" style="float:right">关于</a></li>
    </ul>
    <br/>
    <br/>
<div id="container" style="position:fixed;height: 90%;width:95%;background:white;margin:25px 25px;"></div>

<script>
    let obj = eval(dataJson);

    // 全国省份列表
    var dataMap = [{ name: '北京' }, { name: '天津' }, { name: '上海' }, { name: '重庆' }, { name: '河北' }, { name: '河南' }, { name: '云南' }, { name: '辽宁' }, { name: '黑龙江' }, { name: '湖南' }, { name: '安徽' }, { name: '山东' },
    { name: '新疆' }, { name: '江苏' }, { name: '浙江' }, { name: '江西' }, { name: '湖北' }, { name: '广西' }, { name: '甘肃' }, { name: '山西' }, { name: '内蒙古' }, { name: '陕西' }, { name: '吉林' }, { name: '福建' }, { name: '贵州' },
    { name: '广东' }, { name: '青海' }, { name: '西藏' }, { name: '四川' }, { name: '宁夏' }, { name: '海南' }, { name: '台湾' }, { name: '香港' }, { name: '澳门' }]

    // 绘制图表，准备数据
   option = {
    dataRange: {
            color: ['Crimson', 'white'],
            range: [0, 2000],
            min: 0,
            max: 2000,
            show: true,
            realtime: true,
            calculable: true,
        },
    title : {
        text: '疫情统计地图',
        subtext: 'FZU软件工程实践作业（数据为虚构）',
        left: 'center'

    },
    tooltip : {
        trigger: 'item'
    },
    legend: {
        orient: 'vertical',
        left: 'left',
        data:['确诊人数']
    },
    visualMap: {
        min: 0,
        max: 2500,
        left: 'left',
        top: 'bottom',

        text:['高','低'],           // 文本，默认为数值文本
        calculable : true
    },
    toolbox: {
        show: true,
        orient : 'vertical',
        left: 'right',
        top: 'center',
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    series : [
        {
            name: '确诊人数',
            type: 'map',
            mapType: 'china',
            roam: false,
            label: {
                normal: {
                    show: false
                },
                emphasis: {
                    show: true
                }
            },
            data:[
                {name: '北京',value: Math.round(Math.random()*1000)},
                {name: '天津',value: Math.round(Math.random()*1000)},
                {name: '上海',value: Math.round(Math.random()*1000)},
                {name: '重庆',value: Math.round(Math.random()*1000)},
                {name: '河北',value: Math.round(Math.random()*1000)},
                {name: '河南',value: Math.round(Math.random()*1000)},
                {name: '云南',value: Math.round(Math.random()*1000)},
                {name: '辽宁',value: Math.round(Math.random()*1000)},
                {name: '黑龙江',value: Math.round(Math.random()*1000)},
                {name: '湖南',value: Math.round(Math.random()*1000)},
                {name: '安徽',value: Math.round(Math.random()*1000)},
                {name: '山东',value: Math.round(Math.random()*1000)},
                {name: '新疆',value: Math.round(Math.random()*1000)},
                {name: '江苏',value: Math.round(Math.random()*1000)},
                {name: '浙江',value: Math.round(Math.random()*1000)},
                {name: '江西',value: Math.round(Math.random()*1000)},
                {name: '湖北',value: obj["20200310"]["湖北"].current[0]},
                {name: '广西',value: Math.round(Math.random()*1000)},
                {name: '甘肃',value: Math.round(Math.random()*1000)},
                {name: '山西',value: Math.round(Math.random()*1000)},
                {name: '内蒙古',value: Math.round(Math.random()*1000)},
                {name: '陕西',value: Math.round(Math.random()*1000)},
                {name: '吉林',value: Math.round(Math.random()*1000)},
                {name: '福建',value: 0},
                {name: '贵州',value: 80},
                {name: '广东',value: 200},
                {name: '青海',value: 500},
                {name: '西藏',value: 1000},
                {name: '四川',value: 2000},
                {name: '宁夏',value: Math.round(Math.random()*1000)},
                {name: '海南',value: Math.round(Math.random()*1000)},
                {name: '台湾',value: 5000},
                {name: '香港',value: Math.round(Math.random()*1000)},
                {name: '澳门',value: Math.round(Math.random()*1000)}
            ]
        }
    ]
};









            




















    //初始化echarts实例
    var myChart = echarts.init(document.getElementById('container'));
    myChart.on('click', function (params){ 
        var city = params.name;
        console.log(params.name);
        var urlArr = ['http://www.baidu.com','http://http://www.cnblogs.com/sapho'];
        if(params.name=='河南'){
            location.href = urlArr[0];
        }
    });
    //使用制定的配置项和数据显示图表
    myChart.setOption(option);
</script>

<div style="text-align:center;clear:both;">
<script src="/gg_bd_ad_720x90.js" type="text/javascript"></script>
<script src="/follow.js" type="text/javascript"></script>
</div>
<footer align="center" position="fixed" class="footer">
  <p align="center" position="absolute" style="color: black">Copyright &copy; 221701325彭陈浩 X 221701335袁锦辉</p>
</footer>
</body>
</html>
